(function(){"use strict";(e=>{try{if(typeof window>"u")return;var i=document.createElement("style");i.appendChild(document.createTextNode(e)),document.head.appendChild(i)}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})(".voice-visualizer__buttons-container{display:flex;justify-content:center;align-items:center;column-gap:20px;row-gap:15px;flex-wrap:wrap;margin-bottom:40px}.voice-visualizer__btn-center{box-sizing:border-box;flex-shrink:0;width:60px;height:60px;padding:0;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:#fff;border:4px solid #c5c5c5;outline:none;cursor:pointer;transition:border-color .3s,background-color .3s}.voice-visualizer__btn-center:disabled{opacity:.85;cursor:default}.voice-visualizer__btn-center:hover{background-color:#eaeaea;border:4px solid #9f9f9f}.voice-visualizer__btn-center>img{width:auto;height:50%;max-height:30px}.voice-visualizer__btn-center.voice-visualizer__btn-center-pause{background-color:#ff3030}.voice-visualizer__btn-center.voice-visualizer__btn-center-pause:hover{background-color:#ff4f4f}.voice-visualizer__btn-center.voice-visualizer__btn-center-pause>img{height:50%;max-height:16px}.voice-visualizer__btn-center.voice-visualizer__btn-center--border-transparent{border-color:transparent}.voice-visualizer__btn-center.voice-visualizer__btn-center--border-transparent:hover{background-color:#fff}.voice-visualizer__btn-left{box-sizing:border-box;flex-shrink:0;width:60px;height:60px;padding:0;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:#ff3030;border:4px solid #c5c5c5;outline:none;cursor:pointer;transition:border-color .3s,background-color .3s,opacity .3s}.voice-visualizer__btn-container{min-width:100px;display:flex;justify-content:flex-end}.voice-visualizer__btn-left:hover{background-color:#ff4f4f}.voice-visualizer__btn-left:disabled{opacity:.6;background-color:#ff3030;cursor:default}.voice-visualizer__btn-left.voice-visualizer__btn-left-microphone{background-color:#fff}.voice-visualizer__btn-left.voice-visualizer__btn-left-microphone>img{width:auto;height:50%;max-height:30px}.voice-visualizer__btn-left>img{width:auto;height:50%;max-height:16px}.voice-visualizer__btn-left:hover{border:4px solid #9f9f9f}.voice-visualizer__btn{box-sizing:border-box;min-width:100px;min-height:60px;padding:5px 20px;border-radius:40px;font-size:15px;background-color:#f0f0f0;transition:background-color .3s,opacity .3s}.voice-visualizer__btn:disabled{opacity:.8;background-color:#f0f0f0;cursor:default}.voice-visualizer__btn:hover{background-color:#bebebe}.voice-visualizer__canvas-container{position:relative;width:fit-content;margin:0 auto;overflow:hidden}.voice-visualizer__canvas-container canvas{display:block}.voice-visualizer__canvas-microphone-btn{position:absolute;top:50%;left:50%;width:auto;max-width:12%;min-width:24px;height:50%;max-height:100px;background-color:transparent;border:none;outline:none;transform:translate(-50%,-50%)}.voice-visualizer__canvas-microphone-icon{width:100%;height:100%;will-change:transform;transition:transform .3s}.voice-visualizer__canvas-microphone-btn:hover .voice-visualizer__canvas-microphone-icon{transform:scale(1.03)}.voice-visualizer__canvas-audio-wave-icon{position:absolute;top:50%;left:50%;width:auto;max-width:40%;height:40%;max-height:100px;transform:translate(-118%,-50%) scale(-1)}.voice-visualizer__canvas-audio-wave-icon2{transform:translate(18%,-50%)}.voice-visualizer__canvas-audio-processing{position:absolute;top:50%;left:50%;margin:0;transform:translate(-50%,-50%)}.voice-visualizer__progress-indicator-hovered{position:absolute;top:0;pointer-events:none;height:100%;width:1px;background-color:#85858599}.voice-visualizer__progress-indicator-hovered-time{position:absolute;top:3%;left:1px;width:fit-content;margin:0;padding:0 7px;opacity:.8;font-size:12px;border-radius:0 4px 4px 0;background-color:#575757;text-align:left}.voice-visualizer__progress-indicator-hovered-time.voice-visualizer__progress-indicator-hovered-time-left{left:unset;right:1px;border-radius:4px 0 0 4px}.voice-visualizer__progress-indicator{position:absolute;top:0;pointer-events:none;height:100%;width:1px;background-color:#efefef}.voice-visualizer__progress-indicator-time{position:absolute;top:3%;left:1px;width:fit-content;box-sizing:border-box;min-width:37px;margin:0;padding:0 7px;font-size:12px;border-radius:0 4px 4px 0;text-align:left;color:#000;font-weight:500;background-color:#efefef}.voice-visualizer__progress-indicator-time.voice-visualizer__progress-indicator-time-left{left:unset;right:1px;border-radius:4px 0 0 4px}.voice-visualizer__audio-info-container{box-sizing:border-box;height:55px;display:flex;align-items:center;justify-content:center;gap:30px}.voice-visualizer__audio-info-time{margin:15px 0;min-width:38px;text-align:left}.voice-visualizer__visually-hidden{position:absolute;width:1px;height:1px;margin:-1px;padding:0;border:4px solid #c5c5c5;white-space:nowrap;clip-path:inset(100%);clip:rect(0 0 0 0);overflow:hidden}.voice-visualizer__relative{position:relative}.voice-visualizer__spinner-wrapper{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:52px;height:52px;display:flex;justify-content:center;align-items:center}.voice-visualizer__spinner{flex-shrink:0;width:100%;height:100%;border:4px solid rgba(197,197,197,.5);border-radius:50%;border-top-color:#b7b7b7;animation:voice-visualizer__spin 1s ease-in-out infinite;-webkit-animation:voice-visualizer__spin 1s ease-in-out infinite}@keyframes voice-visualizer__spin{to{transform:rotate(360deg)}}@-webkit-keyframes voice-visualizer__spin{to{transform:rotate(360deg)}}")})();
(function(x,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("react/jsx-runtime"),require("react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react"],c):(x=typeof globalThis<"u"?globalThis:x||self,c(x["react-voice-visualizer"]={},x["react/jsx-runtime"],x.React))})(this,function(x,c,t){"use strict";const _e=({canvas:e,backgroundColor:r})=>{const n=e.height,s=e.width,o=Math.round(s/2),h=e.getContext("2d");return h?(h.clearRect(0,0,s,n),r!=="transparent"&&(h.fillStyle=r,h.fillRect(0,0,s,n)),{context:h,height:n,width:s,halfWidth:o}):null},Se=({context:e,color:r,rounded:n,x:s,y:o,w:h,h:w})=>{e.fillStyle=r,e.beginPath(),e.roundRect?(e.roundRect(s,o,h,w,n),e.fill()):e.fillRect(s,o,h,w)},We=({barsData:e,canvas:r,barWidth:n,gap:s,backgroundColor:o,mainBarColor:h,secondaryBarColor:w,currentAudioTime:m=0,rounded:z,duration:f})=>{const d=_e({canvas:r,backgroundColor:o});if(!d)return;const{context:L,height:g}=d,N=m/f;e.forEach((l,p)=>{const I=p/e.length,a=N>I;Se({context:L,color:a?w:h,rounded:z,x:p*(n+s*n),y:g/2-l.max,h:l.max*2,w:n})})};function ke({context:e,color:r,rounded:n,width:s,height:o,barWidth:h}){Se({context:e,color:r,rounded:n,x:s/2+h/2,y:o/2-1,h:2,w:s-(s/2+h/2)})}const Ve=({audioData:e,unit:r,index:n,index2:s,canvas:o,isRecordingInProgress:h,isPausedRecording:w,picks:m,backgroundColor:z,barWidth:f,mainBarColor:d,secondaryBarColor:L,rounded:g,animateCurrentPick:N,fullscreen:l})=>{const p=_e({canvas:o,backgroundColor:z});if(!p)return;const{context:I,height:a,width:H,halfWidth:C}=p;if(e!=null&&e.length&&h){const E=Math.max(...e);if(!w){if(s.current>=f){s.current=0;const A=(a-E/258*a)/a*100,W=(-a+E/258*a*2)/a*100,$=n.current===f?{startY:A,barHeight:W}:null;n.current>=r?n.current=f:n.current+=f,m.length>(l?H:C)/f&&m.pop(),m.unshift($)}s.current+=1}!l&&ae(),N&&Se({context:I,rounded:g,color:d,x:l?H:C,y:a-E/258*a,h:-a+E/258*a*2,w:f});let B=(l?H:C)-s.current;m.forEach(A=>{A&&Se({context:I,color:d,rounded:g,x:B,y:A.startY*a/100>a/2-1?a/2-1:A.startY*a/100,h:A.barHeight*a/100>2?A.barHeight*a/100:2,w:f}),B-=f})}else m.length=0;function ae(){ke({context:I,color:L,rounded:g,width:H,height:a,barWidth:f})}},He=e=>{const r=Math.floor(e/3600),n=Math.floor(e%3600/60),s=e%60,o=Math.floor((s-Math.floor(s))*1e3);return r>0?`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(Math.floor(s)).padStart(2,"0")}:${String(o).charAt(0)}`:n>0?`${String(n).padStart(2,"0")}:${String(Math.floor(s)).padStart(2,"0")}:${String(o).charAt(0)}`:`${String(Math.floor(s)).padStart(2,"0")}:${String(o).charAt(0)}`},Je=e=>{const r=Math.floor(e/1e3),n=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return n>0?`${String(n).padStart(2,"0")}:${String(s).padStart(2,"0")}:${String(o).padStart(2,"0")}`:`${String(s).padStart(2,"0")}:${String(o).padStart(2,"0")}`};function $e(e){if(typeof e=="string"){const r=Number(e);if(!Number.isNaN(r))return`${Math.trunc(r/2)*2}px`}return e}const Qe=({bufferData:e,height:r,width:n,barWidth:s,gap:o})=>{const h=n/(s+o*s),w=Math.floor(e.length/h),m=r/2;let z=[],f=0;for(let d=0;d<h;d++){const L=[];let g=0;for(let l=0;l<w&&d*w+l<e.length;l++){const p=e[d*w+l];p>0&&(L.push(p),g++)}const N=L.reduce((l,p)=>l+p,0)/g;N>f&&(f=N),z.push({max:N})}if(m*.95>f*m){const d=m*.95/f;z=z.map(L=>({max:L.max>.01?L.max*d:1}))}return z},qe=e=>{if(!e)return"";const r=e.match(/audio\/([^;]+)/);return r&&r.length>=2?`.${r[1]}`:""},Re=e=>{const r=Math.floor(e/3600),n=Math.floor(e%3600/60),s=e%60,o=Math.floor((s-Math.floor(s))*1e3);return r>0?`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(Math.floor(s)).padStart(2,"0")}}h`:n>0?`${String(n).padStart(2,"0")}:${String(Math.floor(s)).padStart(2,"0")}m`:`${String(Math.floor(s)).padStart(2,"0")}:${String(o).charAt(0)}${String(o).charAt(1)}s`},Xe=e=>{onmessage=r=>{postMessage(e(r.data))}};function Ke({fn:e,initialValue:r,onMessageReceived:n}){const[s,o]=t.useState(r);return{result:s,setResult:o,run:w=>{const m=new Worker(URL.createObjectURL(new Blob([`(${Xe})(${e})`])));m.onmessage=z=>{z.data&&(o(z.data),n&&n(),m.terminate())},m.onerror=z=>{console.error(z.message),m.terminate()},m.postMessage(w)}}}const et=(e,r=250)=>{const n=t.useRef();return t.useCallback((...s)=>{const o=()=>{clearTimeout(n.current),e(...s)};clearTimeout(n.current),n.current=setTimeout(o,r)},[e,r])};function tt(e){const r=t.useRef(e);return t.useLayoutEffect(()=>{r.current=e},[e]),r}const dt="",rt=({color:e="#000000",stroke:r=2,className:n})=>c.jsx("svg",{viewBox:"0 0 23 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:c.jsx("path",{d:"M1.1 16.72c0 3 .96 5.8 3.61 7.95a9.96 9.96 0 0 0 6.5 2.17m0 0v4.34h4.34-8.67m4.34-4.34c2.35 0 4.42-.48 6.5-2.17a9.87 9.87 0 0 0 3.61-7.95M11.22 1.82c-1.45 0-2.5.37-3.3.93a5.6 5.6 0 0 0-1.84 2.4c-.9 2.06-1.1 4.77-1.1 7.24 0 2.46.2 5.17 1.1 7.24a5.6 5.6 0 0 0 1.84 2.4c.8.55 1.85.92 3.3.92 1.44 0 2.5-.37 3.29-.93a5.6 5.6 0 0 0 1.84-2.4c.9-2.06 1.1-4.77 1.1-7.23 0-2.47-.2-5.18-1.1-7.24a5.6 5.6 0 0 0-1.84-2.4 5.52 5.52 0 0 0-3.3-.93Z",stroke:e,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round"})}),Oe=({color:e="#FFFFFF",reflect:r})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0.92 17.54 48.27 14.92",className:`voice-visualizer__canvas-audio-wave-icon ${r?"voice-visualizer__canvas-audio-wave-icon2":""}`,children:c.jsx("path",{d:"M.92 24.63h.21v.75H.92zm.42-1.39h.21v3.52h-.21zm.43.68h.21v2.17h-.21zM2.2 22h.21v6.01H2.2zm.43-1.27h.21v8.55h-.21zm.43 2.07h.21v4.4h-.21zm.43 1.22h.21v1.97h-.21zm.43.47h.21v1.03h-.21zm.43-1.66h.21v4.35h-.21zm.43-1.74h.21v7.82h-.21zm.43 1.94h.21v3.94h-.21zm.43 1.07h.21v1.81h-.21zm.42-.94h.21v3.68h-.21zm.43.91h.21v1.86h-.21zm.43-.23h.21v2.33h-.21zm.43.46h.21v1.4h-.21zm.43-.7h.21v2.8h-.21zm.43-1.6h.21v6.01h-.21zm.43-2.23h.21v10.46h-.21zm.43-1.4h.21v13.26h-.21zm.43.62h.21v12.02H9.5zm.43 1.64h.21v8.75h-.21zm.43 1.37h.21v6.01h-.21zm.43-1.87H11v9.74h-.21zm.42 1.32h.21v7.1h-.21zm.43-2.64h.21v12.38h-.21zm.43 1.61h.21v9.17h-.21zM12.5 22h.21v6.01h-.21zm.43 1.32h.21v3.37h-.21zm.43-2.51h.21v8.39h-.21zm.43.59H14v7.2h-.21zm.43 1.79h.21v3.62h-.21zm.43.41h.21v2.8h-.21zm.43.57h.21v1.66h-.21zm.43-1.11h.21v3.88h-.21zm.42-2.98h.21v9.84h-.21zm.43 1.06h.21v7.72h-.21zm.43 3.19H17v1.35h-.21zm.86-2.33h.21v6.01h-.21zm-.43 1.4h.21v3.21h-.21zm1.29.15h.21v2.9h-.21zm.43.68h.21v1.55h-.21zm-.86-.76h.21v3.05h-.21zm1.29-.05h.21v3.16h-.21zm.43-.64h.21v4.45h-.21zm.43.38h.21v3.68h-.21zm.42-.49h.21v4.66h-.21zm.43 1.32h.21v2.02h-.21zm.43.37h.21v1.29h-.21zm.43.31h.21v.67h-.21zm.43-.39h.21v1.45h-.21zm.43-1.35h.21v4.14h-.21zm.86.73h.21v2.69h-.21zm-.43.44h.21v1.81h-.21zm1.29-3.45h.21v8.7h-.21zm.43 1.71h.21v5.28h-.21zm-.86-2.3h.21v9.89h-.21zm1.29 3.36h.21v3.16h-.21zM25.8 22h.21v6.01h-.21zm.43 1.42h.21v3.16h-.21zm.43.88h.21v1.4h-.21zm.43-.93h.21v3.26h-.21zm.43-1.37h.21v6.01h-.21zm.43-.93h.21v7.87h-.21zm.43-.76h.21v9.38h-.21zm.43 1.69h.21v6.01h-.21zm.86 1.92h.21v2.17h-.21zm-.43-.6h.21v3.37h-.21zm1.28.05h.21v3.26h-.21zm.43.67h.21v1.91h-.21zm-.85-.51h.21v2.95h-.21zm1.28-.13h.21v3.21h-.21zm.43-1.4h.21v6.01h-.21zm.43-.99h.21v7.98h-.21zm.43 1.77h.21v4.45h-.21zm.43-1.22h.21v6.89h-.21zm.43 1.6h.21v3.68h-.21zm.43-.28h.21v4.25h-.21zm.43-.6h.21v5.44h-.21zm.43-.28h.21v6.01h-.21zm.85 2.02h.21v1.97h-.21zm-.43-.57h.21v3.11h-.21zm1.29.93h.21v1.24h-.21zm.43-.65h.21v2.54h-.21zm-.86-.28h.21v3.11h-.21zm1.29.83h.21v1.45h-.21zm.43-.99h.21v3.42h-.21zm.43-.1h.21v3.62h-.21zm.43-.7h.21v5.02h-.21zm.43.8h.21v3.42h-.21zm.43-1.29h.21v6.01h-.21zm.42-1.71h.21v9.43h-.21zm.43 2.38h.21v4.66h-.21zm.43.65h.21v3.37h-.21zm.86.08h.21v3.21h-.21zm-.43.54h.21v2.12h-.21zm1.29-.05h.21v2.23h-.21zm.43.28h.21v1.66h-.21zm-.86.16h.21v1.35h-.21zm1.29.21h.21v.93h-.21zm.43-6.04h.21v13h-.21zm.43.8h.21v11.4h-.21zm.43-1.76h.21v14.92h-.21zm.42 1.09h.21v12.74h-.21zm.43 1.17h.21v10.41h-.21zm.43 1.32h.21v7.77h-.21zm.43 1.6h.21v4.56h-.21zm.43 1.17h.21v2.23h-.21zm.86-.08h.21v2.38h-.21zm-.43-.34h.21v3.05h-.21zm1.29-.1h.21v3.26h-.21zm.43.93h.21v1.4h-.21zm-.86-.02h.21v1.45h-.21z",fill:e})}),Ze="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjMiIGhlaWdodD0iMzMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEuMSAxNi43MmMwIDMgLjk2IDUuOCAzLjYxIDcuOTVhOS45NiA5Ljk2IDAgMCAwIDYuNSAyLjE3bTAgMHY0LjM0aDQuMzQtOC42N200LjM0LTQuMzRjMi4zNSAwIDQuNDItLjQ4IDYuNS0yLjE3YTkuODcgOS44NyAwIDAgMCAzLjYxLTcuOTVNMTEuMjIgMS44MmMtMS40NSAwLTIuNS4zNy0zLjMuOTNhNS42IDUuNiAwIDAgMC0xLjg0IDIuNGMtLjkgMi4wNi0xLjEgNC43Ny0xLjEgNy4yNCAwIDIuNDYuMiA1LjE3IDEuMSA3LjI0YTUuNiA1LjYgMCAwIDAgMS44NCAyLjRjLjguNTUgMS44NS45MiAzLjMuOTIgMS40NCAwIDIuNS0uMzcgMy4yOS0uOTNhNS42IDUuNiAwIDAgMCAxLjg0LTIuNGMuOS0yLjA2IDEuMS00Ljc3IDEuMS03LjIzIDAtMi40Ny0uMi01LjE4LTEuMS03LjI0YTUuNiA1LjYgMCAwIDAtMS44NC0yLjQgNS41MiA1LjUyIDAgMCAwLTMuMy0uOTNaIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K",nt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTE4Ljc1IDYuMTZjNC4zMSAyLjYgNi40NiAzLjkgNi40NiA1Ljg0IDAgMS45NS0yLjE1IDMuMjQtNi40NiA1Ljg0bC00Ljg0IDIuOTJjLTQuMzEgMi42LTYuNDYgMy44OS04LjA4IDIuOTItMS42Mi0uOTgtMS42Mi0zLjU3LTEuNjItOC43NlY5LjA4YzAtNS4xOSAwLTcuNzggMS42Mi04Ljc2IDEuNjItLjk3IDMuNzcuMzMgOC4wOCAyLjkybDQuODQgMi45MloiIGZpbGw9IiNmZmYiLz4KPC9zdmc+Cg==",Fe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTE0IDMuNWEzLjUgMy41IDAgMSAxIDcgMHYyMmEzLjUgMy41IDAgMSAxLTcgMHYtMjJaIiBmaWxsPSIjZmZmIi8+CiAgPHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjkiIHJ4PSIzLjUiIGZpbGw9IiNmZmYiLz4KPC9zdmc+Cg==",it="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjciIGhlaWdodD0iMjUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHJlY3QgeD0iLjIxIiB3aWR0aD0iMjYiIGhlaWdodD0iMjUiIHJ4PSI1IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo=",st=({controls:{audioRef:e,audioData:r,isRecordingInProgress:n,recordedBlob:s,duration:o,currentAudioTime:h,audioSrc:w,bufferFromRecordedBlob:m,togglePauseResume:z,startRecording:f,stopRecording:d,saveAudioFile:L,isAvailableRecordedAudio:g,isPausedRecordedAudio:N,isPausedRecording:l,isProcessingStartRecording:p,isProcessingRecordedAudio:I,isCleared:a,formattedDuration:H,formattedRecordingTime:C,formattedRecordedAudioCurrentTime:ae,clearCanvas:E,setCurrentAudioTime:B,isProcessingOnResize:A,_setIsProcessingOnResize:W,_setIsProcessingAudioOnComplete:$},width:K="100%",height:ee=200,speed:pe=3,backgroundColor:F="transparent",mainBarColor:j="#FFFFFF",secondaryBarColor:k="#5e5e5e",barWidth:ue=2,gap:V=1,rounded:O=5,isControlPanelShown:J=!0,isDownloadAudioButtonShown:te=!1,animateCurrentPick:he=!0,fullscreen:le=!1,onlyRecording:Q=!1,isDefaultUIShown:Ie=!0,defaultMicrophoneIconColor:we=j,defaultAudioWaveIconColor:re=j,mainContainerClassName:ne,canvasContainerClassName:Le,isProgressIndicatorShown:ie=!Q,progressIndicatorClassName:M,isProgressIndicatorTimeShown:Z=!0,progressIndicatorTimeClassName:q,isProgressIndicatorOnHoverShown:se=!Q,progressIndicatorOnHoverClassName:R,isProgressIndicatorTimeOnHoverShown:_=!0,progressIndicatorTimeOnHoverClassName:b,isAudioProcessingTextShown:u=!0,audioProcessingTextClassName:Ne,controlButtonsClassName:ye})=>{const[ve,Ce]=t.useState(0),[T,Ae]=t.useState(0),[ce,be]=t.useState(0),[me,fe]=t.useState(0),[U,de]=t.useState(!1),[je,Te]=t.useState(window.innerWidth),[Y,De]=t.useState(!1),Ee=je<768,G=Math.trunc(pe),oe=Math.trunc(V),i=Math.trunc(Ee&&oe>0?ue+1:ue),S=i+oe*i,v=t.useRef(null),D=t.useRef([]),X=t.useRef(G),ot=t.useRef(i),at=t.useRef(i),ze=t.useRef(null),ut=tt(je),{result:ge,setResult:ht,run:lt}=Ke({fn:Qe,initialValue:[],onMessageReceived:mt}),vt=et(xe);t.useEffect(()=>{xe();const y=()=>{ut.current!==window.innerWidth&&(g?(Te(window.innerWidth),W(!0),De(!0),vt()):(Te(window.innerWidth),xe()))};return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[K,g]),t.useLayoutEffect(()=>{v.current&&((X.current>=G||!r.length)&&(X.current=r.length?0:G,Ve({audioData:r,unit:S,index:ot,index2:at,canvas:v.current,picks:D.current,isRecordingInProgress:n,isPausedRecording:l,backgroundColor:F,mainBarColor:j,secondaryBarColor:k,barWidth:i,rounded:O,animateCurrentPick:he,fullscreen:le})),X.current+=1)},[v.current,r,i,F,j,k,O,le,Ie,me]),t.useEffect(()=>{var y,P;if(g)return U?(y=v.current)==null||y.addEventListener("mouseleave",Ye):(P=v.current)==null||P.addEventListener("mouseenter",Ue),()=>{var Me,Be;U?(Me=v.current)==null||Me.removeEventListener("mouseleave",Ye):(Be=v.current)==null||Be.removeEventListener("mouseenter",Ue)}},[U,g]),t.useEffect(()=>{var P;if(!m||!v.current||n||Y)return;if(Q){E();return}D.current=[];const y=m.getChannelData(0);return lt({bufferData:y,height:ce,width:me,barWidth:i,gap:oe}),(P=v.current)==null||P.addEventListener("mousemove",Ge),()=>{var Me;(Me=v.current)==null||Me.removeEventListener("mousemove",Ge)}},[m,T,ce,V,ue,Y]),t.useEffect(()=>{if(!(Q||!(ge!=null&&ge.length)||!v.current||I)){if(a){ht([]);return}We({barsData:ge,canvas:v.current,barWidth:i,gap:oe,backgroundColor:F,mainBarColor:j,secondaryBarColor:k,currentAudioTime:h,rounded:O,duration:o})}},[ge,h,a,O,F,j,k]),t.useEffect(()=>{I&&v.current&&_e({canvas:v.current,backgroundColor:F})},[I]);function xe(){if(!ze.current||!v.current)return;X.current=G;const y=Math.trunc(ze.current.clientHeight*window.devicePixelRatio/2)*2;Ae(ze.current.clientWidth),be(y),fe(Math.round(ze.current.clientWidth*window.devicePixelRatio)),De(!1)}function mt(){W(!1),$(!1),e!=null&&e.current&&!A&&(e.current.src=w)}const Ue=()=>{de(!0)},Ye=()=>{de(!1)},Ge=y=>{Ce(y.offsetX)},ft=y=>{if(e!=null&&e.current&&v.current){const P=o/T*(y.clientX-v.current.getBoundingClientRect().left);e.current.currentTime=P,B(P)}},Pe=h/o*T;return c.jsxs("div",{className:`voice-visualizer ${ne??""}`,children:[c.jsxs("div",{className:`voice-visualizer__canvas-container ${Le??""}`,ref:ze,style:{width:$e(K)},children:[c.jsx("canvas",{ref:v,width:me,height:ce,onClick:ft,style:{height:$e(ee),width:T},children:"Your browser does not support HTML5 Canvas."}),Ie&&a&&c.jsxs(c.Fragment,{children:[c.jsx(Oe,{color:re}),c.jsx(Oe,{color:re,reflect:!0}),c.jsx("button",{onClick:f,className:"voice-visualizer__canvas-microphone-btn",children:c.jsx(rt,{color:we,stroke:.5,className:"voice-visualizer__canvas-microphone-icon"})})]}),u&&I&&c.jsx("p",{className:`voice-visualizer__canvas-audio-processing ${Ne??""}`,style:{color:j},children:"Processing Audio..."}),U&&g&&!I&&!Ee&&se&&c.jsx("div",{className:`voice-visualizer__progress-indicator-hovered ${R??""}`,style:{left:ve},children:_&&c.jsx("p",{className:`voice-visualizer__progress-indicator-hovered-time 
                    ${T-ve<70?"voice-visualizer__progress-indicator-hovered-time-left":""} 
                    ${b??""}`,children:He(o/T*ve)})}),ie&&g&&!I&&o?c.jsx("div",{className:`voice-visualizer__progress-indicator ${M??""}`,style:{left:Pe<T-1?Pe:T-1},children:Z&&c.jsx("p",{className:`voice-visualizer__progress-indicator-time ${T-h*T/o<70?"voice-visualizer__progress-indicator-time-left":""} ${q??""}`,children:ae})}):null]}),J&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"voice-visualizer__audio-info-container",children:[n&&c.jsx("p",{className:"voice-visualizer__audio-info-time",children:C}),o&&!I?c.jsx("p",{children:H}):null]}),c.jsxs("div",{className:"voice-visualizer__buttons-container",children:[n&&c.jsx("div",{className:"voice-visualizer__btn-container",children:c.jsx("button",{className:`voice-visualizer__btn-left ${l?"voice-visualizer__btn-left-microphone":""}`,onClick:z,children:c.jsx("img",{src:l?Ze:Fe,alt:l?"Play":"Pause"})})}),!a&&c.jsx("button",{className:`voice-visualizer__btn-left ${n||p?"voice-visualizer__visually-hidden":""}`,onClick:z,disabled:I,children:c.jsx("img",{src:N?nt:Fe,alt:N?"Play":"Pause"})}),a&&c.jsxs("button",{className:`voice-visualizer__btn-center voice-visualizer__relative ${p?"voice-visualizer__btn-center--border-transparent":""}`,onClick:f,disabled:p,children:[p&&c.jsx("div",{className:"voice-visualizer__spinner-wrapper",children:c.jsx("div",{className:"voice-visualizer__spinner"})}),c.jsx("img",{src:Ze,alt:"Microphone"})]}),c.jsx("button",{className:`voice-visualizer__btn-center voice-visualizer__btn-center-pause ${n?"":"voice-visualizer__visually-hidden"}`,onClick:d,children:c.jsx("img",{src:it,alt:"Stop"})}),!a&&c.jsx("button",{onClick:E,className:`voice-visualizer__btn ${ye??""}`,disabled:I,children:"Clear"}),te&&s&&c.jsx("button",{onClick:L,className:`voice-visualizer__btn ${ye??""}`,disabled:I,children:"Download Audio"})]})]})]})};function ct({onStartRecording:e,onStopRecording:r,onPausedRecording:n,onResumedRecording:s,onClearCanvas:o,onEndAudioPlayback:h,onStartAudioPlayback:w,onPausedAudioPlayback:m,onResumedAudioPlayback:z,onErrorPlayingAudio:f}={}){const[d,L]=t.useState(!1),[g,N]=t.useState(!1),[l,p]=t.useState(null),[I,a]=t.useState(new Uint8Array(0)),[H,C]=t.useState(!1),[ae,E]=t.useState(null),[B,A]=t.useState(null),[W,$]=t.useState(0),[K,ee]=t.useState(0),[pe,F]=t.useState(0),[j,k]=t.useState(""),[ue,V]=t.useState(!0),[O,J]=t.useState(0),[te,he]=t.useState(!0),[le,Q]=t.useState(!1),[Ie,we]=t.useState(!1),[re,ne]=t.useState(null),[Le,ie]=t.useState(!1),M=t.useRef(null),Z=t.useRef(null),q=t.useRef(null),se=t.useRef(null),R=t.useRef(null),_=t.useRef(null),b=t.useRef(null),u=t.useRef(null),Ne=!!(B&&!H),ye=Re(pe),ve=Je(W),Ce=He(O),T=le||H;t.useEffect(()=>{if(!d||g)return;const S=setInterval(()=>{const v=performance.now();$(D=>D+(v-K)),ee(v)},1e3);return()=>clearInterval(S)},[K,g,d]),t.useEffect(()=>{if(re){Y();return}},[re]),t.useEffect(()=>()=>{Y()},[]),t.useEffect(()=>(te||window.addEventListener("beforeunload",Ae),()=>{window.removeEventListener("beforeunload",Ae)}),[te]);const Ae=i=>{i.preventDefault(),i.returnValue=""},ce=async i=>{if(i)try{if(i.size===0)throw new Error("Error: The audio blob is empty");const S=URL.createObjectURL(i);k(S);const v=await i.arrayBuffer(),X=await new AudioContext().decodeAudioData(v);A(X),F(X.duration-.06),ne(null)}catch(S){console.error("Error processing the audio blob:",S),ne(S instanceof Error?S:new Error("Error processing the audio blob"))}},be=i=>{i instanceof Blob&&(Y(),we(!0),he(!1),C(!0),L(!1),$(0),N(!1),u.current=new Audio,E(i),ce(i))},me=()=>{ie(!0),navigator.mediaDevices.getUserMedia({audio:!0}).then(i=>{he(!1),ie(!1),L(!0),ee(performance.now()),p(i),Z.current=new window.AudioContext,q.current=Z.current.createAnalyser(),se.current=new Uint8Array(q.current.frequencyBinCount),R.current=Z.current.createMediaStreamSource(i),R.current.connect(q.current),M.current=new MediaRecorder(i),M.current.addEventListener("dataavailable",U),M.current.start(),e&&e(),fe()}).catch(i=>{ie(!1),ne(i instanceof Error?i:new Error("Error starting audio recording"))})},fe=()=>{q.current.getByteTimeDomainData(se.current),a(new Uint8Array(se.current)),_.current=requestAnimationFrame(fe)},U=i=>{M.current&&(M.current=null,u.current=new Audio,E(i.data),ce(i.data))},de=()=>{u.current&&(J(u.current.currentTime),b.current=requestAnimationFrame(de))},je=()=>{d||Le||(te||Y(),me())},Te=()=>{d&&(L(!1),M.current&&(M.current.stop(),M.current.removeEventListener("dataavailable",U)),l==null||l.getTracks().forEach(i=>i.stop()),_.current&&cancelAnimationFrame(_.current),R.current&&R.current.disconnect(),Z.current&&Z.current.state!=="closed"&&Z.current.close(),C(!0),$(0),N(!1),r&&r())},Y=()=>{_.current&&(cancelAnimationFrame(_.current),_.current=null),b.current&&(cancelAnimationFrame(b.current),b.current=null),M.current&&(M.current.removeEventListener("dataavailable",U),M.current.stop(),M.current=null),l==null||l.getTracks().forEach(i=>i.stop()),u!=null&&u.current&&(u.current.removeEventListener("ended",G),u.current.pause(),u.current.src="",u.current=null),Z.current=null,q.current=null,se.current=null,R.current=null,p(null),ie(!1),L(!1),we(!1),C(!1),E(null),A(null),$(0),ee(0),F(0),k(""),J(0),V(!0),N(!1),Q(!1),a(new Uint8Array(0)),ne(null),he(!0),o&&o()},De=()=>{if(u.current&&u.current.paused){const i=u.current.play();i!==void 0&&i.catch(S=>{console.error(S),f&&f(S instanceof Error?S:new Error("Error playing audio"))})}},Ee=()=>{var i,S,v;if(d){N(D=>!D),((i=M.current)==null?void 0:i.state)==="recording"?((S=M.current)==null||S.pause(),$(D=>D+(performance.now()-K)),_.current&&cancelAnimationFrame(_.current),n&&n()):(_.current=requestAnimationFrame(fe),(v=M.current)==null||v.resume(),ee(performance.now()),s&&s());return}if(u.current&&Ne)if(u.current.paused)requestAnimationFrame(de),De(),u.current.addEventListener("ended",G),V(!1),w&&O===0&&w(),z&&O!==0&&z();else{b.current&&cancelAnimationFrame(b.current),u.current.removeEventListener("ended",G),u.current.pause(),V(!0);const D=u.current.currentTime;J(D),u.current.currentTime=D,m&&m()}},G=()=>{b.current&&cancelAnimationFrame(b.current),V(!0),u!=null&&u.current&&(u.current.currentTime=0,J(0),h&&h())},oe=()=>{var S;if(!j)return;const i=document.createElement("a");i.href=j,i.download=`recorded_audio${qe((S=M.current)==null?void 0:S.mimeType)}`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(j)};return{audioRef:u,isRecordingInProgress:d,isPausedRecording:g,audioData:I,recordingTime:W,isProcessingRecordedAudio:T,recordedBlob:ae,mediaRecorder:M.current,duration:pe,currentAudioTime:O,audioSrc:j,isPausedRecordedAudio:ue,bufferFromRecordedBlob:B,isCleared:te,isAvailableRecordedAudio:Ne,formattedDuration:ye,formattedRecordingTime:ve,formattedRecordedAudioCurrentTime:Ce,startRecording:je,togglePauseResume:Ee,stopRecording:Te,saveAudioFile:oe,clearCanvas:Y,setCurrentAudioTime:J,error:re,isProcessingOnResize:le,isProcessingStartRecording:Le,isPreloadedBlob:Ie,setPreloadedAudioBlob:be,_setIsProcessingAudioOnComplete:C,_setIsProcessingOnResize:Q}}x.VoiceVisualizer=st,x.useVoiceVisualizer=ct,Object.defineProperty(x,Symbol.toStringTag,{value:"Module"})});
